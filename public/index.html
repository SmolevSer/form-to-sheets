<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Система учета финансовых операций</title>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <div class="container">
    <!-- Форма аутентификации -->
    <div id="auth-form-container"></div>

    <!-- Основная форма -->
    <div id="main-form" class="hidden">
      <!-- Заголовок с информацией о пользователе -->
      <div id="main-header-container"></div>
      
      <!-- Выбор компании -->
      <div id="company-section-container"></div>

      <!-- Выбор операции -->
      <div id="operation-section-container"></div>

      <!-- Выбор счета -->
      <div id="account-section-container"></div>

      <!-- Блоки операций -->
      <div id="operation-blocks-container"></div>

      <!-- История операций -->
      <div id="history-section-container"></div>
    </div>
  </div>

  <!-- Подключение JavaScript модулей -->
  <script src="scripts/auth.js"></script>
  <script src="scripts/references.js"></script>
  <script src="scripts/form-handler.js"></script>
  <script src="scripts/sheets-handler.js"></script>
  
  <!-- Загрузка HTML компонентов -->
  <script>
    // Функция для загрузки HTML компонентов
    async function loadComponent(containerId, componentPath) {
      try {
        const response = await fetch(componentPath);
        const html = await response.text();
        document.getElementById(containerId).innerHTML = html;
      } catch (error) {
        console.error(`Ошибка загрузки компонента ${componentPath}:`, error);
      }
    }

    // Загружаем все компоненты при загрузке страницы
    document.addEventListener('DOMContentLoaded', async () => {
      await Promise.all([
        loadComponent('auth-form-container', 'components/auth-form.html'),
        loadComponent('main-header-container', 'components/main-header.html'),
        loadComponent('company-section-container', 'components/company-section.html'),
        loadComponent('operation-section-container', 'components/operation-section.html'),
        loadComponent('account-section-container', 'components/account-section.html'),
        loadComponent('operation-blocks-container', 'components/operation-blocks.html'),
        loadComponent('history-section-container', 'components/history-section.html')
      ]);
      
      console.log('Все компоненты загружены');
    });
  </script>
</body>
</html>
